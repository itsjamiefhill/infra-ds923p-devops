#!/bin/bash
# Custom configuration for HomeLab DevOps Platform on your Synology DS923+

# Override network settings
PLATFORM_IP="10.0.4.78"  # Your specific static IP

# Consul settings specific to your environment
CONSUL_VERSION="1.15.4"
CONSUL_USE_DOCKER=true  # Use direct Docker deployment instead of Nomad
CONSUL_BIND_ADDR="${PLATFORM_IP}"
CONSUL_ADVERTISE_ADDR="${PLATFORM_IP}"

# DNS settings specific to your environment
DNS_USE_HOSTS_FILE=true  # Use hosts file for DNS resolution
DNS_USE_DNSMASQ=false    # Don't try to use dnsmasq on Synology

# Service domain settings
CONSUL_HOST="consul.jamfhi.com"
TRAEFIK_HOST="traefik.jamfhi.com"
VAULT_HOST="vault.jamfhi.com"
GRAFANA_HOST="grafana.jamfhi.com"
PROMETHEUS_HOST="prometheus.jamfhi.com"
LOKI_HOST="loki.jamfhi.com"
HOMEPAGE_HOST="home.jamfhi.com"

# Resource allocations optimized for your 32GB system
PROMETHEUS_MEMORY=4096
LOKI_MEMORY=3072
VAULT_MEMORY=1536
GRAFANA_MEMORY=1024
CONSUL_MEMORY=1024